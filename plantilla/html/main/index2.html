<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../images/favicon.ico">

    <title>Rhythm Admin - Dashboard</title>
    
	<!-- Vendors Style-->
	<link rel="stylesheet" href="css/vendors_css.css">
	  
	<!-- Style-->  
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/skin_color.css">

	<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">


    <style>
		
		.logo-box {
			display: flex;
			flex-direction: column;
			align-items: center;
			padding-top: 10px;
			padding-bottom: 10px;
			}

			.logo-full img {
			max-width: 100%;
			height: auto;
			}

			.logo-full h4 {
			font-size: 14px;
			text-align: center;
			margin-top: 10px;
			line-height: 1.3;
			}

			.sidebar-collapse .logo-full {
			display: none;
			}

			.sidebar-collapse .logo-mini {
			display: block !important;
			margin: auto;
			}

			
	 </style>

	<style>
		.box-equal-height .box-body {
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			}

		.box-equal-height {
		min-height: 390px; /* Ajusta según la altura total que necesites */
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		}
	
		#patient_overview, #recent_trend {
		height: 220px !important;
		}

		#patient_overview {
		flex: 1;
		min-width: 200px;
		}

		.reporte-detalles {
		flex: 1;
		margin-left: 20px;
		}

		.notification-scroll {
			max-height: 280px; /* Ajusta según altura de tus otras tarjetas */
			overflow-y: auto;
			}

		
	</style>
  
	
  
  </head>

<body class="hold-transition light-skin sidebar-mini theme-success fixed">
	
<div class="wrapper">
	<div id="loader"></div>
	
  <header class="main-header">
	

    <!-- Header Navbar -->
    <nav class="navbar navbar-static-top">

      <!-- Sidebar toggle button-->
	  <div class="app-menu">
		<ul class="header-megamenu nav">
			<li class="btn-group nav-item">
				<a href="#" class="waves-effect waves-light nav-link push-btn btn-primary-light" data-toggle="push-menu" role="button">
					<i data-feather="align-left"></i>
			    </a>
			</li>
			<li class="btn-group d-lg-inline-flex d-none">
				<div class="app-menu">
					<div class="search-bx mx-5">
						<form>
							<div class="input-group">
							  <input type="search" class="form-control" placeholder="Search" aria-label="Search" aria-describedby="button-addon2">
							  <div class="input-group-append">
								<button class="btn" type="submit" id="button-addon3"><i data-feather="search"></i></button>
							  </div>
							</div>
						</form>
					</div>
				</div>
			</li>
		</ul> 
	  </div>
		
      <div class="navbar-custom-menu r-side">
        <ul class="nav navbar-nav">	
			<li class="btn-group nav-item d-lg-inline-flex d-none">
				<a href="#" data-provide="fullscreen" class="waves-effect waves-light nav-link full-screen btn-warning-light" title="Full Screen">
					<i data-feather="maximize"></i>
			    </a>
			</li>
		  <!-- Notifications -->
		  <li class="dropdown notifications-menu">
			<a href="#" class="waves-effect waves-light dropdown-toggle btn-info-light" data-bs-toggle="dropdown" title="Notifications">
			  <i data-feather="bell"></i>
			</a>
			<ul class="dropdown-menu animated bounceIn">

			  <li class="header">
				<div class="p-20">
					<div class="flexbox">
						<div>
							<h4 class="mb-0 mt-0">Notifications</h4>
						</div>
						<div>
							<a href="#" class="text-danger">Clear All</a>
						</div>
					</div>
				</div>
			  </li>

			  <li>
				<!-- inner menu: contains the actual data -->
				<ul class="menu sm-scrol">
				  <li>
					<a href="#">
					  <i class="fa fa-users text-info"></i> Curabitur id eros quis nunc suscipit blandit.
					</a>
				  </li>
				  <li>
					<a href="#">
					  <i class="fa fa-warning text-warning"></i> Duis malesuada justo eu sapien elementum, in semper diam posuere.
					</a>
				  </li>
				  <li>
					<a href="#">
					  <i class="fa fa-users text-danger"></i> Donec at nisi sit amet tortor commodo porttitor pretium a erat.
					</a>
				  </li>
				  <li>
					<a href="#">
					  <i class="fa fa-shopping-cart text-success"></i> In gravida mauris et nisi
					</a>
				  </li>
				  <li>
					<a href="#">
					  <i class="fa fa-user text-danger"></i> Praesent eu lacus in libero dictum fermentum.
					</a>
				  </li>
				  <li>
					<a href="#">
					  <i class="fa fa-user text-primary"></i> Nunc fringilla lorem 
					</a>
				  </li>
				  <li>
					<a href="#">
					  <i class="fa fa-user text-success"></i> Nullam euismod dolor ut quam interdum, at scelerisque ipsum imperdiet.
					</a>
				  </li>
				</ul>
			  </li>
			  <li class="footer">
				  <a href="#">View all</a>
			  </li>
			</ul>
		  </li>	
		  
          <!-- Control Sidebar Toggle Button -->
          <li class="btn-group nav-item">
              <a href="#" data-toggle="control-sidebar" title="Setting" class="waves-effect full-screen waves-light btn-danger-light">
			  	<i data-feather="settings"></i>
			  </a>
          </li>
		  
	      <!-- User Account-->
          <li class="dropdown user user-menu">
            <a href="#" class="waves-effect waves-light dropdown-toggle w-auto l-h-12 bg-transparent py-0 no-shadow" data-bs-toggle="dropdown" title="User">
				<div class="d-flex pt-5">
					<div class="text-end me-10">
						<p class="pt-5 fs-14 mb-0 fw-700 text-primary">Johen Doe</p>
						<small class="fs-10 mb-0 text-uppercase text-mute">Admin</small>
					</div>
					<img src="../images/avatar/avatar-1.png" class="avatar rounded-10 bg-primary-light h-40 w-40" alt="" />
				</div>
            </a>
            <ul class="dropdown-menu animated flipInX">
              <li class="user-body">
				 <a class="dropdown-item" href="#"><i class="ti-user text-muted me-2"></i> Profile</a>
				 <a class="dropdown-item" href="#"><i class="ti-wallet text-muted me-2"></i> My Wallet</a>
				 <a class="dropdown-item" href="#"><i class="ti-settings text-muted me-2"></i> Settings</a>
				 <div class="dropdown-divider"></div>
				 <a class="dropdown-item" href="#"><i class="ti-lock text-muted me-2"></i> Logout</a>
              </li>
            </ul>
          </li>	
			
        </ul>
      </div>
    </nav>
  </header>
  
  <aside class="main-sidebar">
    <!-- sidebar-->
    <section class="sidebar position-relative">
		
		<div class="d-flex align-items-center logo-box justify-content-start" >	
			<div class="logo-box text-center">
				<img src="../images/LogoSanMiguel.png" alt="Logo mini" class="logo-mini" style="width: 40px; display: none;">
				<div class="logo-full">
				  <img src="../images/LogoSanMiguel.png" alt="Logo Municipalidad San Miguel" width="120" class="mb-2">
				  <h4 class="mb-0" style="font-size: 13px; line-height: 1.2;">
					Municipalidad distrital de<br><strong>San Miguel</strong>
				  </h4>
				</div>
			  </div>
			  
		</div>
		  
		  
	  	<div class="multinav">
		  <div class="multinav-scroll" style="height: 100%;">	
			  <!-- sidebar menu-->
			  <ul class="sidebar-menu" data-widget="tree">			
				<li>
					<a href="index2.html">
					  <i data-feather="monitor"></i>
					  <span>Dashboard</span>
					</a>
				  </li>
				  
				<li>
				  <a href="appointments.html">
					<i data-feather="calendar"></i>
					<span>Reservas</span>
				  </a>
				</li>			
						
							
							 
				<li>
					<a href="servicios.html">
					  <i data-feather="target"></i>
					  <span>Servicios</span>
					</a>
				  </li>
				   
				
				<li>
					<a href="ajustes.html">
					  <i data-feather="settings"></i>
					  <span>Ajustes</span>
					</a>
				</li>	 	     
			  </ul>
			  
			  
		  </div>
		</div>
    </section>
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
	  <div class="container-full">
		<!-- Main content -->
		<section class="content">
			<div class="row">
				<div class="col-xl-8 col-lg-12">
					
					<div class="row">
						<div class="col-xl-6 col-lg-6 col-12">						
							<div class="box h-400 d-flex flex-column justify-content-between">
							  <div class="box-header">
								<h4 class="box-title">Reporte de reservas los últimos 3 meses</h4>
							  </div>
							  <div class="box-body">
								<p class="mb-0 text-muted">Total Reservas</p>
								<h3 class="text-success mt-0">105</h3>
								<div class="d-md-flex align-items-center flex-wrap">
								  <div id="patient_overview" class="min-h-250"></div>
						  
								  <!-- Este div será llenado por JS -->
								</div>
							  </div>
							</div>
						  </div>
						  
						<div class="col-xl-6 col-lg-6 col-12">						
							<div class="box h-400">
								<div class="box-header">
									<h4 class="box-title">Servicios más populares</h4>
								</div>
								<div class="box-body">							
									<p class="mb-0 text-muted">Servicio más popular</p>
									<h3 class="text-success mt-0">Cancha de grass sintético</h3>
									<div id="recent_trend"></div>							
								</div>
							</div>
						</div>
						
						
						
						
					</div>					
				</div>
				<div class="col-xl-4 col-12">
					<div class="box h-400">
						<div class="box-header with-border">
						  <h4 class="box-title">Ultimas notificaciones</h4>
						  <p class="mb-0 pull-right">Hoy</p>
						</div>
						<div class="box-body flex-grow-1">
						  <div class="notification-scroll">
							<div class="mb-3">
							  <strong>Cancha de loza reservada</strong>
							  <p class="text-muted mb-0">10:30 AM - Usuario: Luis Rojas</p>
							</div>
							<div class="mb-3">
							  <strong>Cancha de grass reservada</strong>
							  <p class="text-muted mb-0">09:00 AM - Usuario: Ana Pérez</p>
							</div>
							<div class="mb-3">
							  <strong>Sugerencia recibida</strong>
							  <p class="text-muted mb-0">"Agregar más horarios disponibles."</p>
							</div>
							<div class="mb-3 d-flex align-items-start">
								<i data-feather="alert-triangle" class="text-danger me-2 mt-1"></i>
							  <div>
								<strong class="text-danger">Queja reportada</strong>
								<p class="text-muted mb-0">"Problemas con la cancha de grass a las 7 PM."</p>
							  </div>
							</div>
							<div class="mb-3">	
							  <strong>Sugerencia</strong>
							  <p class="text-muted mb-0">"Implementar pagos en línea para reservas."</p>
							</div>
							<div class="mb-3 d-flex align-items-start">
								<i data-feather="alert-triangle" class="text-danger me-2 mt-1"></i>
								<div>
								  <strong class="text-danger">Queja reportada</strong>
								  <p class="text-muted mb-0">"La luz de la cancha de loza no funciona por las noches."</p>
								</div>
							  </div>
							  
							  <!-- Sugerencia -->
							  <div class="mb-3">
								<strong>Sugerencia</strong>
								<p class="text-muted mb-0">"Incluir recordatorios por correo de las reservas."</p>
							  </div>
							<!-- Puedes añadir más notificaciones -->
						  </div>
						</div>
					  </div>
					  
					
										
					
				</div>
			</div>
			<div class="row mt-4">
				<!-- Usuarios -->
				<div class="col-md-4 col-sm-12 mb-3">
				  <div class="card shadow-sm border-0 text-center p-3 h-140" style="background-color: #D1FAE5;">
					<div class="mb-2">
					  <i class="fas fa-users fa-2x text-success"></i>
					</div>
					<h6 class="text-dark">Cantidad de usuarios</h6>
					<h2 class="text-success fw-bold">41</h2>
				  </div>
				</div>
			  
				<!-- Servicios reservados -->
				<div class="col-md-4 col-sm-12 mb-3">
				  <div class="card shadow-sm border-0 text-center p-3 h-140" style="background-color: #FECACA;">
					<div class="mb-2">
					  <i class="fas fa-calendar-check fa-2x text-danger"></i>
					</div>
					<h6 class="text-dark">Servicios reservados</h6>
					<h2 class="text-danger fw-bold">50</h2>
				  </div>
				</div>
			  
				<!-- Servicios disponibles -->
				<div class="col-md-4 col-sm-12 mb-3">
				  <div class="card shadow-sm border-0 text-center p-3 h-140" style="background-color: #BFDBFE;">
					<div class="mb-2">
					  <i class="fas fa-concierge-bell fa-2x text-primary"></i>
					</div>
					<h6 class="text-dark">Servicios disponibles</h6>
					<h2 class="text-primary fw-bold">70</h2>
				  </div>
				</div>
			  </div>			
		</section>
		<!-- /.content -->
	  </div>
  </div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <div class="pull-right d-none d-sm-inline-block">
        <ul class="nav nav-primary nav-dotted nav-dot-separated justify-content-center justify-content-md-end">
		  <li class="nav-item">
			<a class="nav-link" href="javascript:void(0)">FAQ</a>
		  </li>
		  <li class="nav-item">
			<a class="nav-link" href="#">Purchase Now</a>
		  </li>
		</ul>
    </div>
	  &copy; <script>document.write(new Date().getFullYear())</script> <a href="https://www.multipurposethemes.com/">Multipurpose Themes</a>. All Rights Reserved.
  </footer>

  <!-- Control Sidebar -->
  
  <!-- /.control-sidebar -->
  
  <!-- Add the sidebar's background. This div must be placed immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
  
</div>
<!-- ./wrapper -->
	
	<!-- ./side demo panel -->
	
	<!-- Sidebar -->
		
	<div id="chat-box-body">
		<div id="chat-circle" class="waves-effect waves-circle btn btn-circle btn-lg btn-warning l-h-70">
            <div id="chat-overlay"></div>
            <span class="icon-Group-chat fs-30"><span class="path1"></span><span class="path2"></span></span>
		</div>

		<div class="chat-box">
            <div class="chat-box-header p-15 d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button class="waves-effect waves-circle btn btn-circle btn-primary-light h-40 w-40 rounded-circle l-h-45" type="button" data-bs-toggle="dropdown">
                      <span class="icon-Add-user fs-22"><span class="path1"></span><span class="path2"></span></span>
                  </button>
                  <div class="dropdown-menu min-w-200">
                    <a class="dropdown-item fs-16" href="#">
                        <span class="icon-Color me-15"></span>
                        New Group</a>
                    <a class="dropdown-item fs-16" href="#">
                        <span class="icon-Clipboard me-15"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span>
                        Contacts</a>
                    <a class="dropdown-item fs-16" href="#">
                        <span class="icon-Group me-15"><span class="path1"></span><span class="path2"></span></span>
                        Groups</a>
                    <a class="dropdown-item fs-16" href="#">
                        <span class="icon-Active-call me-15"><span class="path1"></span><span class="path2"></span></span>
                        Calls</a>
                    <a class="dropdown-item fs-16" href="#">
                        <span class="icon-Settings1 me-15"><span class="path1"></span><span class="path2"></span></span>
                        Settings</a>
                    <div class="dropdown-divider"></div>
					<a class="dropdown-item fs-16" href="#">
                        <span class="icon-Question-circle me-15"><span class="path1"></span><span class="path2"></span></span>
                        Help</a>
					<a class="dropdown-item fs-16" href="#">
                        <span class="icon-Notifications me-15"><span class="path1"></span><span class="path2"></span></span> 
                        Privacy</a>
                  </div>
                </div>
                <div class="text-center flex-grow-1">
                    <div class="text-dark fs-18">Mayra Sibley</div>
                    <div>
                        <span class="badge badge-sm badge-dot badge-primary"></span>
                        <span class="text-muted fs-12">Active</span>
                    </div>
                </div>
                <div class="chat-box-toggle">
                    <button id="chat-box-toggle" class="waves-effect waves-circle btn btn-circle btn-danger-light h-40 w-40 rounded-circle l-h-45" type="button">
                      <span class="icon-Close fs-22"><span class="path1"></span><span class="path2"></span></span>
                    </button>                    
                </div>
            </div>
            <div class="chat-box-body">
                <div class="chat-box-overlay">   
                </div>
                <div class="chat-logs">
                    <div class="chat-msg user">
                        <div class="d-flex align-items-center">
                            <span class="msg-avatar">
                                <img src="../images/avatar/2.jpg" class="avatar avatar-lg">
                            </span>
                            <div class="mx-10">
                                <a href="#" class="text-dark hover-primary fw-bold">Mayra Sibley</a>
                                <p class="text-muted fs-12 mb-0">2 Hours</p>
                            </div>
                        </div>
                        <div class="cm-msg-text">
                            Hi there, I'm Jesse and you?
                        </div>
                    </div>
                    <div class="chat-msg self">
                        <div class="d-flex align-items-center justify-content-end">
                            <div class="mx-10">
                                <a href="#" class="text-dark hover-primary fw-bold">You</a>
                                <p class="text-muted fs-12 mb-0">3 minutes</p>
                            </div>
                            <span class="msg-avatar">
                                <img src="../images/avatar/3.jpg" class="avatar avatar-lg">
                            </span>
                        </div>
                        <div class="cm-msg-text">
                           My name is Anne Clarc.         
                        </div>        
                    </div>
                    <div class="chat-msg user">
                        <div class="d-flex align-items-center">
                            <span class="msg-avatar">
                                <img src="../images/avatar/2.jpg" class="avatar avatar-lg">
                            </span>
                            <div class="mx-10">
                                <a href="#" class="text-dark hover-primary fw-bold">Mayra Sibley</a>
                                <p class="text-muted fs-12 mb-0">40 seconds</p>
                            </div>
                        </div>
                        <div class="cm-msg-text">
                            Nice to meet you Anne.<br>How can i help you?
                        </div>
                    </div>
                </div><!--chat-log -->
            </div>
            <div class="chat-input">      
                <form>
                    <input type="text" id="chat-input" placeholder="Send a message..."/>
                    <button type="submit" class="chat-submit" id="chat-submit">
                        <span class="icon-Send fs-22"></span>
                    </button>
                </form>      
            </div>
		</div>
	</div>
	
	<!-- Page Content overlay -->
	<script>
		// Referencias a los gráficos ya renderizados
		let chartCircle, chartBar;
	  
		document.addEventListener("DOMContentLoaded", function () {
		  // Chart de barra
		  var optionsBar = {
			chart: {
			  type: 'bar',
			  height: 220
			},
			plotOptions: {
			  bar: {
				columnWidth: '40%',
				borderRadius: 4
			  }
			},
			dataLabels: {
			  enabled: false
			},
			series: [{
			  name: 'Reservas',
			  data: [95, 70, 40, 55, 35]
			}],
			xaxis: {
			  categories: ['Loza', 'Grass', 'Piscina', 'Pista', 'Gimnasio'],
			  labels: {
				style: {
				  fontSize: '12px'
				}
			  }
			},
			colors: ['#60A5FA', '#A78BFA', '#34D399', '#FBBF24', '#3B82F6']
		  };
	  
		  chartBar = new ApexCharts(document.querySelector("#recent_trend"), optionsBar);
		  chartBar.render();
	  
		  // Chart de anillo mejorado
		  var optionsCircle = {
			chart: {
			  type: 'radialBar',
			  height: 240,
			  offsetY: 0
			},
			series: [32, 48, 25],
			labels: ['Mayo', 'Abril', 'Marzo'],
			colors: ['#3B82F6', '#F59E0B', '#EF4444'],
			plotOptions: {
			  radialBar: {
				hollow: {
				  margin: 10,
				  size: '45%'
				},
				track: {
				  background: '#F3F4F6',
				  strokeWidth: '100%'
				},
				dataLabels: {
				  name: {
					show: false
				  },
				  value: {
					show: false
				  },
				  total: {
					show: true,
					label: 'Total',
					fontSize: '18px',
					color: '#111827',
					formatter: function () {
					  return 105; // valor central manual
					}
				  }
				}
			  }
			},
			tooltip: {
			  enabled: true,
			  y: {
				formatter: function (val) {
				  return val + " reservas";
				}
			  }
			},
			legend: {
			  show: false
			}
		  };
	  
		  chartCircle = new ApexCharts(document.querySelector("#patient_overview"), optionsCircle);
		  chartCircle.render();
		});
	  
		// Redibujar charts al redimensionar ventana
		window.addEventListener('resize', function () {
		  if (chartBar) chartBar.render();
		  if (chartCircle) chartCircle.render();
		});
	  
		// Redibujar charts al colapsar sidebar (click en botón push-menu)
		document.querySelector('.push-btn')?.addEventListener('click', function () {
		  setTimeout(() => {
			if (chartBar) chartBar.render();
			if (chartCircle) chartCircle.render();
		  }, 400); // espera que termine la animación del sidebar
		});
	  </script>
	  
	  
	  
	  
	  
	  
	
	<!-- Vendor JS -->
	<script src="js/vendors.min.js"></script>
	<script src="js/pages/chat-popup.js"></script>
    <script src="../assets/icons/feather-icons/feather.min.js"></script>
	
	<script src="../assets/vendor_components/apexcharts-bundle/dist/apexcharts.js"></script>
	<script src="../assets/vendor_components/OwlCarousel2/dist/owl.carousel.js"></script>
	
	
	<!-- Rhythm Admin App -->
	<script src="js/template.js"></script>

	
</body>
</html>
