<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="/images/san_miguel_logo.ico">

  <title>Reservar un Espacio </title>

  <!-- Vendors Style-->
  <link rel="stylesheet" href="/css/vendors_css.css">

  <!-- Style-->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/skin_color.css">
</head>
<body class="hold-transition light-skin sidebar-mini theme-success fixed">

<div class="wrapper">
  <div id="loader"></div>

  <header class="main-header">
    <div class="d-flex align-items-center logo-box justify-content-center">
      <!-- Logo -->
      <a href="principal.html" class="logo">
        <!-- logo-->
        <div class="logo-mini w-150 text-center">
          <span class="light-logo"><img src="/images/logo-sanMiguel.png" alt="logo"></span>
        </div>
      </a>
    </div>
    <!-- Header Navbar -->
    <nav class="navbar navbar-static-top">
      <div class="app-menu">
        <ul class="header-megamenu nav">
          <li class="btn-group nav-item">
            <a href="#" class="waves-effect waves-light nav-link push-btn btn-primary-light" data-toggle="push-menu" role="button">
              <i data-feather="align-left"></i>
            </a>
          </li>
        </ul>
      </div>

      <div th:replace="fragments :: navbarFragment"></div>
    </nav>
  </header>

  <!-- Left side column. contains the logo and sidebar -->
  <aside th:replace="fragments :: sidebarFragment"></aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <div class="container-full">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="d-flex align-items-center">
          <div class="me-auto">
            <h4 class="page-title">Realizar una Reserva</h4>
          </div>
        </div>
      </div>
    </div>

    <!-- Main content -->
    <section class="content">
      <div class="box">
        <div class="box-header with-border">
          <h4 class="box-title">Completa tu Reserva</h4>
          <h6 class="box-subtitle">Rellena el siguiente formulario con tu información para proceder con la reserva.</h6>
        </div>
        <!-- /.box-header -->
        <div class="box-body wizard-content">
          <form th:action="@{/vecino/guardarservicio}" th:object="${servicioDTO}" method="post" class="validation-wizard wizard-circle">
            <!-- Step 1 -->
            <h6>Datos Principales</h6>
            <section>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="wfirstName2" class="form-label"> Nombre : <span class="danger">*</span> </label>
                    <input type="text"  th:field="*{espacio.nombre}" class="form-control required" id="wfirstName2" name="nombre">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="wlastName2" class="form-label"> Apellido : <span class="danger">*</span> </label>
                    <input type="text" th:field="*{espacio.ubicacion}" class="form-control required" id="wlastName2" name="apellido">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="desCorta" class="form-label">Fecha de Nacimiento :</label>
                    <input th:field="*{espacio.descripcionCorta}" type="text" class="form-control required" id="desCorta">
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="desLarga" class="form-label">Fecha de Nacimiento :</label>
                      <input th:field="*{espacio.descripcionLarga}" type="text" class="form-control required" id="desLarga">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="horaAbre" class="form-label">Hora de Apertura :</label>
                    <input th:field="*{espacio.horaAbre}" type="date" class="form-control required" id="horaAbre">
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="horaCierra" class="form-label">Hora de Cierre :</label>
                      <input th:field="*{espacio.horaCierra}" type="date" class="form-control required" id="horaCierra">
                    </div>
                  </div>
                </div>
              </div>
            </section>
            <!-- Step 2 -->
            <h6>Contacto y Horario</h6>
            <section>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="wemailAddress2" class="form-label"> Correo electrónico:<span class="danger">*</span> </label>
                    <input type="email" th:field="*{espacio.correoContacto}" class="form-control required" id="wemailAddress2" name="correo">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="wphoneNumber2" class="form-label">Celular :</label>
                    <input type="tel" th:field="*{espacio.numContacto}" class="form-control" id="wphoneNumber2" name="celular">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="mapsUrl" class="form-label"> Correo electrónico:<span class="danger">*</span> </label>
                    <input type="text" th:field="*{espacio.mapsUrl}" class="form-control required" id="mapsUrl" name="correo">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="aforo" class="form-label">Celular :</label>
                    <input type="number" th:field="*{espacio.aforo}" class="form-control" id="aforo" name="celular">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="mapsUrl" class="form-label"> Correo electrónico:<span class="danger">*</span> </label>
                    <input type="number" step="any" th:field="*{espacio.costoHorario}" class="form-control required" id="costoHorario" name="correo">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <h6>Elija la fecha de su reserva</h6>
                  <div class="form-group">
                    <label for="wdate2" class="form-label">Fecha :</label>
                    <input readonly th:attr="min=${minDate}" type="date" th:field="*{fechaReserva}" class="form-control required" id="wdate2">
                  </div>
                </div>
                <div class="col-md-9">
                  <h5>Elija el horario de su reserva</h5>
                  <div id="horarios-container" class="clearfix" aria-label="Horarios">
                    <th:block th:each="horariosConsulta, idx : ${listaHorarios}">
                      <button type="button"
                              class="waves-effect waves-light btn "
                              th:id="'btn-horario-' + ${idx.index}"
                              th:text="${horariosConsulta.getHoraInicio()} + '-' + ${horariosConsulta.getHoraFin()}"
                              th:disabled="${horariosConsulta.getReservado() != null and horariosConsulta.getReservado() == 1}"
                              th:classappend="${horariosConsulta.getReservado() != null and horariosConsulta.getReservado() == 1} ? ' btn-danger-light mb-5' : ' btn-primary-light mb-5'"
                              th:onclick="'selectHorario(this, ' + ${horariosConsulta.getIdHorarios()} + ')'">
                      </button>
                      <span th:if="${((idx.index + 1) % 3 == 0)}"><br/></span>
                    </th:block>
                  </div>

                  <!-- Campo hidden para enviar el horario seleccionado -->
                  <input type="hidden" id="horarioSeleccionado" th:field="*{horario}" required />
                </div>
              </div>
            </section>
            <!-- Step 3 -->
            <h6>Pago</h6>
            <section>
              <div class="row">
                <div class="col-md-6">
                  <button type="button" class="waves-effect waves-light btn btn-dark btn-lg">Abrir Plataforma de Pago</button>

                </div>

              </div>
            </section>
          </form>
        </div>
        <!-- /.box-body -->
      </div>
    </section>
    <!-- /.content -->
  </div>
</div>
<!-- /.content-wrapper -->

<footer class="main-footer">
  &copy; <script>document.write(new Date().getFullYear())</script> <a href="https://munisanmiguel.gob.pe/">Municipalidad de San Miguel</a>. Todos los derechos reservados.
</footer>
<!-- Control Sidebar -->
<aside class="control-sidebar">

  <div class="rpanel-title"><span class="pull-right btn btn-circle btn-danger" data-toggle="control-sidebar"><i class="ion ion-close text-white"></i></span> </div>  <!-- Create the tabs -->
  <ul class="nav nav-tabs control-sidebar-tabs">
    <li class="nav-item"><a href="#control-sidebar-home-tab" data-bs-toggle="tab" class="active"><i class="mdi mdi-message-text"></i></a></li>
    <li class="nav-item"><a href="#control-sidebar-settings-tab" data-bs-toggle="tab"><i class="mdi mdi-playlist-check"></i></a></li>
  </ul>
  <!-- Tab panes -->
  <div class="tab-content">
    <!-- Home tab content -->
    <div class="tab-pane active" id="control-sidebar-home-tab">
      <div class="flexbox">
        <a href="javascript:void(0)" class="text-grey">
          <i class="ti-more"></i>
        </a>
        <p>Users</p>
        <a href="javascript:void(0)" class="text-end text-grey"><i class="ti-plus"></i></a>
      </div>
      <div class="media-list media-list-hover mt-20">
        <div class="media py-10 px-0">
          <a class="avatar avatar-lg status-success" href="#">
            <img src="../images/avatar/1.jpg" alt="...">
          </a>
          <div class="media-body">
            <p class="fs-16">
              <a class="hover-primary" href="#"><strong>Tyler</strong></a>
            </p>
            <p>Praesent tristique diam...</p>
            <span>Just now</span>
          </div>
        </div>

        <div class="media py-10 px-0">
          <a class="avatar avatar-lg status-danger" href="#">
            <img src="../images/avatar/2.jpg" alt="...">
          </a>
          <div class="media-body">
            <p class="fs-16">
              <a class="hover-primary" href="#"><strong>Luke</strong></a>
            </p>
            <p>Cras tempor diam ...</p>
            <span>33 min ago</span>
          </div>
        </div>

        <div class="media py-10 px-0">
          <a class="avatar avatar-lg status-warning" href="#">
            <img src="../images/avatar/3.jpg" alt="...">
          </a>
          <div class="media-body">
            <p class="fs-16">
              <a class="hover-primary" href="#"><strong>Evan</strong></a>
            </p>
            <p>In posuere tortor vel...</p>
            <span>42 min ago</span>
          </div>
        </div>

        <div class="media py-10 px-0">
          <a class="avatar avatar-lg status-primary" href="#">
            <img src="../images/avatar/4.jpg" alt="...">
          </a>
          <div class="media-body">
            <p class="fs-16">
              <a class="hover-primary" href="#"><strong>Evan</strong></a>
            </p>
            <p>In posuere tortor vel...</p>
            <span>42 min ago</span>
          </div>
        </div>

        <div class="media py-10 px-0">
          <a class="avatar avatar-lg status-success" href="#">
            <img src="../images/avatar/1.jpg" alt="...">
          </a>
          <div class="media-body">
            <p class="fs-16">
              <a class="hover-primary" href="#"><strong>Tyler</strong></a>
            </p>
            <p>Praesent tristique diam...</p>
            <span>Just now</span>
          </div>
        </div>

        <div class="media py-10 px-0">
          <a class="avatar avatar-lg status-danger" href="#">
            <img src="../images/avatar/2.jpg" alt="...">
          </a>
          <div class="media-body">
            <p class="fs-16">
              <a class="hover-primary" href="#"><strong>Luke</strong></a>
            </p>
            <p>Cras tempor diam ...</p>
            <span>33 min ago</span>
          </div>
        </div>

        <div class="media py-10 px-0">
          <a class="avatar avatar-lg status-warning" href="#">
            <img src="../images/avatar/3.jpg" alt="...">
          </a>
          <div class="media-body">
            <p class="fs-16">
              <a class="hover-primary" href="#"><strong>Evan</strong></a>
            </p>
            <p>In posuere tortor vel...</p>
            <span>42 min ago</span>
          </div>
        </div>

        <div class="media py-10 px-0">
          <a class="avatar avatar-lg status-primary" href="#">
            <img src="../images/avatar/4.jpg" alt="...">
          </a>
          <div class="media-body">
            <p class="fs-16">
              <a class="hover-primary" href="#"><strong>Evan</strong></a>
            </p>
            <p>In posuere tortor vel...</p>
            <span>42 min ago</span>
          </div>
        </div>

      </div>

    </div>
    <!-- /.tab-pane -->
    <!-- Settings tab content -->
    <div class="tab-pane" id="control-sidebar-settings-tab">
      <div class="flexbox">
        <a href="javascript:void(0)" class="text-grey">
          <i class="ti-more"></i>
        </a>
        <p>Todo List</p>
        <a href="javascript:void(0)" class="text-end text-grey"><i class="ti-plus"></i></a>
      </div>
      <ul class="todo-list mt-20">
        <li class="py-15 px-5 by-1">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_1" class="filled-in">
          <label for="basic_checkbox_1" class="mb-0 h-15"></label>
          <!-- todo text -->
          <span class="text-line">Nulla vitae purus</span>
          <!-- Emphasis label -->
          <small class="badge bg-danger"><i class="fa fa-clock-o"></i> 2 mins</small>
          <!-- General tools such as edit or delete-->
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_2" class="filled-in">
          <label for="basic_checkbox_2" class="mb-0 h-15"></label>
          <span class="text-line">Phasellus interdum</span>
          <small class="badge bg-info"><i class="fa fa-clock-o"></i> 4 hours</small>
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5 by-1">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_3" class="filled-in">
          <label for="basic_checkbox_3" class="mb-0 h-15"></label>
          <span class="text-line">Quisque sodales</span>
          <small class="badge bg-warning"><i class="fa fa-clock-o"></i> 1 day</small>
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_4" class="filled-in">
          <label for="basic_checkbox_4" class="mb-0 h-15"></label>
          <span class="text-line">Proin nec mi porta</span>
          <small class="badge bg-success"><i class="fa fa-clock-o"></i> 3 days</small>
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5 by-1">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_5" class="filled-in">
          <label for="basic_checkbox_5" class="mb-0 h-15"></label>
          <span class="text-line">Maecenas scelerisque</span>
          <small class="badge bg-primary"><i class="fa fa-clock-o"></i> 1 week</small>
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_6" class="filled-in">
          <label for="basic_checkbox_6" class="mb-0 h-15"></label>
          <span class="text-line">Vivamus nec orci</span>
          <small class="badge bg-info"><i class="fa fa-clock-o"></i> 1 month</small>
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5 by-1">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_7" class="filled-in">
          <label for="basic_checkbox_7" class="mb-0 h-15"></label>
          <!-- todo text -->
          <span class="text-line">Nulla vitae purus</span>
          <!-- Emphasis label -->
          <small class="badge bg-danger"><i class="fa fa-clock-o"></i> 2 mins</small>
          <!-- General tools such as edit or delete-->
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_8" class="filled-in">
          <label for="basic_checkbox_8" class="mb-0 h-15"></label>
          <span class="text-line">Phasellus interdum</span>
          <small class="badge bg-info"><i class="fa fa-clock-o"></i> 4 hours</small>
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5 by-1">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_9" class="filled-in">
          <label for="basic_checkbox_9" class="mb-0 h-15"></label>
          <span class="text-line">Quisque sodales</span>
          <small class="badge bg-warning"><i class="fa fa-clock-o"></i> 1 day</small>
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
        <li class="py-15 px-5">
          <!-- checkbox -->
          <input type="checkbox" id="basic_checkbox_10" class="filled-in">
          <label for="basic_checkbox_10" class="mb-0 h-15"></label>
          <span class="text-line">Proin nec mi porta</span>
          <small class="badge bg-success"><i class="fa fa-clock-o"></i> 3 days</small>
          <div class="tools">
            <i class="fa fa-edit"></i>
            <i class="fa fa-trash-o"></i>
          </div>
        </li>
      </ul>
    </div>
    <!-- /.tab-pane -->
  </div>
</aside>
<!-- /.control-sidebar -->

<!-- Add the sidebar's background. This div must be placed immediately after the control sidebar -->
<div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->


<!-- Page Content overlay -->


<!-- Vendor JS -->
<script src="/js/vendors.min.js"></script>
<script src="/js/pages/chat-popup.js"></script>
<script src="/assets/icons/feather-icons/feather.min.js"></script>	<script src="/assets/vendor_components/jquery-steps-master/build/jquery.steps.js"></script>
<script src="/assets/vendor_components/jquery-validation-1.17.0/dist/jquery.validate.min.js"></script>
<script src="/assets/vendor_components/sweetalert/sweetalert.min.js"></script>

<!-- Rhythm Admin App -->
<script src="/js/template.js"></script>
<script src="/js/pages/steps.js"></script>

<script src="/js/pages/advanced-form-element.js"></script>
<script>
  function selectHorario(button, horarioId) {
    // Quitar clase 'active' de todos los botones
    document.querySelectorAll('#horarios-container .btn').forEach(btn => btn.classList.remove('active'));

    // Marcar el botón clickeado como activo
    button.classList.add('active');

    // Actualizar el valor del input hidden con el id del horario seleccionado
    document.getElementById('horarioSeleccionado').value = horarioId;
  }

</script>



</body>
</html>
